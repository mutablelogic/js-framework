<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoJSON viewer</title>
  <script type="module" src="index.js" defer></script>
  <link href="index.css" rel="stylesheet">
</head>

<body>
  <js-canvas>
    <js-nav vertical>
      <js-navitem disabled><js-image id="icon"></js-image></js-navitem>
      <js-navitem>Home</js-navitem>
    </js-nav>

    <js-content>
      <!-- the map -->
      <js-map id="map"
        accessToken="pk.eyJ1IjoiZGp0aG9ycGUiLCJhIjoiY2x5ZnJhZjAzMDJsYTJqcjd6eWQ3cjRvcSJ9.LvoT_wihG5VQtv008P-MPw">
        <!-- add a source from the array (must currently be an array of GeoJSON features) -->
        <js-mapsource id="area" type="geojson" data="#array"></js-mapsource>

        <!-- display the source on the map -->
        <js-maplayer id="points" source="#area" type="fill" paint='{ "fill-opacity": 0.2, "fill-color": "#aa0000" }'></js-maplayer>
      </js-map>
    </js-content>

  </js-canvas>

  <!-- contains the GeoJSON data -->
  <js-array id="array" provider="#provider"></js-array>

  <!-- data source which updates when the event source /esbuild changes -->
  <js-provider id="provider" path="data.json" eventsource="/esbuild"></js-provider>

  <!-- toast which persists on the screen for 1 second -->
  <js-toast id="toast" duration="1"></js-toast>
</body>

</html>
